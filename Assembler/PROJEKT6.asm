	AD1L	EQU	40H
	AD1H	EQU	41H
	AD2L	EQU	42H
	AD2H	EQU	43H
	
	W1	EQU	50H
	W2	EQU	51H
	W3	EQU	52H
	W4	EQU	53H
	
	TEKST5	EQU	4050H
	TEKST6	EQU	405AH
	TEKST7	EQU	4060H
	TEKST8	EQU	4100H
	TEKST9	EQU	4150H
	TEKST10	EQU	4200H
	TEKST11	EQU	4250H

	LJMP	START
	ORG	100H
START:
	MOV	R2,#19
	MOV	DPTR,#TEKST8
	ACALL	TEXT_L
	ACALL	READ_HEX
	MOV	AD1H,A
	LCALL	WRITE_HEX
	ACALL	READ_HEX
	MOV	AD1L,A
	LCALL	WRITE_HEX
	MOV	R2,#1
	MOV	DPTR,#TEKST5
	ACALL	TEXT_L
	
	MOV	R2,#8
	MOV	DPTR,#TEKST10
	ACALL	TEXT_L
	LCALL	WAIT_KEY
	LCALL	LCD_CLR
	MOV	R2,#19
	MOV	DPTR,#TEKST9
	ACALL	TEXT_L
	ACALL	READ_HEX
	MOV	AD2H,A
	LCALL	WRITE_HEX
	ACALL	READ_HEX
	MOV	AD2L,A
	LCALL	WRITE_HEX
	MOV	R2,#1
	MOV	DPTR,#TEKST5
	ACALL	TEXT_L
	MOV	R2,#8
	MOV	DPTR,#TEKST10
	ACALL	TEXT_L
	LCALL	WAIT_KEY
	
	
	
	ACALL	CLR_REG
	MOV	R0,AD1L
	MOV	R1,AD2H
	MOV	R2,AD2L
	MOV	R3,AD2H
	
	MOV	A,R0
	MOV	B,R2
	MUL	AB
	MOV	R4,A
	MOV	R5,B
	
	MOV	A,R1
	MOV	B,R2
	MUL	AB
	
	ADD	A,R5
	
	MOV	R5,A
	MOV	A,B
	ADDC	A,R6
	MOV	R6,A
	
	CLR	A
	ADDC	A,R7
	MOV	R7,A
	
	MOV	A,R0
	MOV	B,R3
	MUL	AB
	
	ADD	A,R5
	MOV	R5,A
	MOV	A,B
	ADDC	A,R6
	MOV	R6,A
	CLR	A
	ADDC	A,R7
	MOV	R7,A
	
	MOV	A,R1
	MOV	B,R3
	MUL	AB
	
	ADD	A,R6
	
	MOV	R6,A
	MOV	A,B
	ADDC	A,R7
	MOV	R7,A
	
	MOV	W1,R4
	MOV	W2,R5
	MOV	W3,R6
	MOV	W4,R7
	LCALL	LCD_CLR
	MOV	A,AD1H
	LCALL	WRITE_HEX
	MOV	A,AD1L
	LCALL	WRITE_HEX
	MOV	DPTR,#TEKST5
	MOV	R2, #4
	ACALL	TEXT_L
	MOV	A,AD2H
	LCALL	WRITE_HEX
	MOV	A,AD2L
	LCALL	WRITE_HEX
	MOV	DPTR,#TEKST6
	MOV	R2,#5
	ACALL	TEXT_L
	MOV	A,W4
	LCALL	WRITE_HEX
	MOV	A,W3
	LCALL	WRITE_HEX
	MOV	A,W2
	LCALL	WRITE_HEX
	MOV	A,W1
	LCALL	WRITE_HEX
	MOV	DPTR,#TEKST7
	MOV	R2,#1
	ACALL	TEXT_L
	MOV	R2,#5
	MOV	DPTR,#TEKST11
	ACALL	TEXT_L
	LCALL	WAIT_KEY
	LCALL	LCD_CLR
	AJMP	START

	

READ_HEX:
	LCALL	WAIT_KEY
	SWAP	A
	MOV	B,A
	LCALL	WAIT_KEY
	ORL	A,B
	RET
	
CLR_REG:
	MOV	R4,#0
	MOV	R5,#0
	MOV	R6,#0
	MOV	R7,#0
	RET
TEXT_L:
	MOVX	A,@DPTR
	INC	DPTR
	LCALL	WRITE_DATA
	DJNZ	R2,TEXT_L
	RET

	ORG	TEKST5
	DB	"h * "
	ORG	TEKST6
	DB	"h =  "
	ORG	TEKST7
	DB	"h"
	ORG	TEKST8
	DB	"Arg.1 [0-FFFF]h  = "
	ORG	TEKST9
	DB	"Arg.2 [0-FFFF]h  = "
	ORG	TEKST10
	DB	" kliknij"
	ORG	TEKST11
	DB	" klik"

END